{"ast":null,"code":"var _jsxFileName = \"/Users/Keenan/Desktop/Lambda-Projects/Sprint-11/React-Testing-TV-Show/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Dropdown from \"react-dropdown\";\nimport parse from \"html-react-parser\";\nimport { formatSeasons } from \"./utils/formatSeasons\";\nimport Episodes from \"./components/Episodes\";\nimport \"./styles.css\";\nimport { fetchShow } from \"./api/fetchShow\";\nexport default function App() {\n  const [show, setShow] = useState(null);\n  const [seasons, setSeasons] = useState([]);\n  const [selectedSeason, setSelectedSeason] = useState(\"\");\n  const episodes = seasons[selectedSeason] || [];\n  useEffect(() => {\n    // const fetchShow = () => {\n    //   axios\n    //     .get(\n    //       \"https://api.tvmaze.com/singlesearch/shows?q=stranger-things&embed=episodes\"\n    //     )\n    //     .then(res => {\n    //       setShow(res.data);\n    //       setSeasons(formatSeasons(res.data._embedded.episodes));\n    //     });\n    // };\n    let response = fetchShow();\n    console.log(res);\n  }, []);\n\n  const handleSelect = e => {\n    setSelectedSeason(e.value);\n  };\n\n  if (!show) {\n    return /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 12\n      }\n    }, \"Fetching data...\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"poster-img\",\n    src: show.image.original,\n    alt: show.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, show.name), parse(show.summary), /*#__PURE__*/React.createElement(Dropdown, {\n    options: Object.keys(seasons),\n    onChange: handleSelect,\n    value: selectedSeason || \"Select a season\",\n    placeholder: \"Select an option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Episodes, {\n    episodes: episodes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/Keenan/Desktop/Lambda-Projects/Sprint-11/React-Testing-TV-Show/src/App.js"],"names":["React","useState","useEffect","axios","Dropdown","parse","formatSeasons","Episodes","fetchShow","App","show","setShow","seasons","setSeasons","selectedSeason","setSelectedSeason","episodes","response","console","log","res","handleSelect","e","value","image","original","name","summary","Object","keys"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AAEA,SAASC,aAAT,QAA8B,uBAA9B;AAEA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAO,cAAP;AAEA,SAASC,SAAT,QAA0B,iBAA1B;AAEA,eAAe,SAASC,GAAT,GAAe;AAC5B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACa,cAAD,EAAiBC,iBAAjB,IAAsCd,QAAQ,CAAC,EAAD,CAApD;AACA,QAAMe,QAAQ,GAAGJ,OAAO,CAACE,cAAD,CAAP,IAA2B,EAA5C;AAEAZ,EAAAA,SAAS,CAAC,MAAM;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAIe,QAAQ,GAAGT,SAAS,EAAxB;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACD,GAbQ,EAaN,EAbM,CAAT;;AAeA,QAAMC,YAAY,GAAGC,CAAC,IAAI;AACxBP,IAAAA,iBAAiB,CAACO,CAAC,CAACC,KAAH,CAAjB;AACD,GAFD;;AAIA,MAAI,CAACb,IAAL,EAAW;AACT,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAP;AACD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,GAAG,EAAEA,IAAI,CAACc,KAAL,CAAWC,QAA5C;AAAsD,IAAA,GAAG,EAAEf,IAAI,CAACgB,IAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKhB,IAAI,CAACgB,IAAV,CAFF,EAGGrB,KAAK,CAACK,IAAI,CAACiB,OAAN,CAHR,eAIE,oBAAC,QAAD;AACE,IAAA,OAAO,EAAEC,MAAM,CAACC,IAAP,CAAYjB,OAAZ,CADX;AAEE,IAAA,QAAQ,EAAES,YAFZ;AAGE,IAAA,KAAK,EAAEP,cAAc,IAAI,iBAH3B;AAIE,IAAA,WAAW,EAAC,kBAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAUE,oBAAC,QAAD;AAAU,IAAA,QAAQ,EAAEE,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF;AAcD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Dropdown from \"react-dropdown\";\nimport parse from \"html-react-parser\";\n\nimport { formatSeasons } from \"./utils/formatSeasons\";\n\nimport Episodes from \"./components/Episodes\";\nimport \"./styles.css\";\n\nimport { fetchShow } from \"./api/fetchShow\";\n\nexport default function App() {\n  const [show, setShow] = useState(null);\n  const [seasons, setSeasons] = useState([]);\n  const [selectedSeason, setSelectedSeason] = useState(\"\");\n  const episodes = seasons[selectedSeason] || [];\n\n  useEffect(() => {\n    // const fetchShow = () => {\n    //   axios\n    //     .get(\n    //       \"https://api.tvmaze.com/singlesearch/shows?q=stranger-things&embed=episodes\"\n    //     )\n    //     .then(res => {\n    //       setShow(res.data);\n    //       setSeasons(formatSeasons(res.data._embedded.episodes));\n    //     });\n    // };\n    let response = fetchShow();\n    console.log(res);\n  }, []);\n\n  const handleSelect = e => {\n    setSelectedSeason(e.value);\n  };\n\n  if (!show) {\n    return <h2>Fetching data...</h2>;\n  }\n\n  return (\n    <div className=\"App\">\n      <img className=\"poster-img\" src={show.image.original} alt={show.name} />\n      <h1>{show.name}</h1>\n      {parse(show.summary)}\n      <Dropdown\n        options={Object.keys(seasons)}\n        onChange={handleSelect}\n        value={selectedSeason || \"Select a season\"}\n        placeholder=\"Select an option\"\n      />\n      <Episodes episodes={episodes} />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}